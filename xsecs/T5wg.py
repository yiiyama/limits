import ROOT

xsecs = {
    200: (1010.1, 15.3749),
    205: (888.038, 15.3143),
    210: (782.82, 15.247),
    215: (690.67, 15.183),
    220: (610.177, 15.1551),
    225: (540.437, 15.0907),
    230: (479.688, 15.1381),
    235: (426.694, 15.0219),
    240: (379.598, 15.088),
    245: (338.228, 14.9509),
    250: (302.3, 14.8648),
    255: (270.569, 15.0585),
    260: (242.843, 14.8413),
    265: (217.628, 14.772),
    270: (195.926, 14.8812),
    275: (176.213, 14.9861),
    280: (158.621, 15.0729),
    285: (143.51, 14.6896),
    290: (129.421, 15.0685),
    295: (117.331, 14.5477),
    300: (106.269, 14.848),
    305: (96.4393, 14.8794),
    310: (87.6653, 14.816),
    315: (79.7744, 14.8206),
    320: (72.687, 14.8953),
    325: (66.2653, 14.9073),
    330: (60.5336, 14.8466),
    335: (55.369, 14.8622),
    340: (50.6463, 14.925),
    345: (46.4307, 15.0063),
    350: (42.5663, 14.9279),
    355: (39.0611, 14.9393),
    360: (35.9491, 14.906),
    365: (33.0444, 14.8652),
    370: (30.435, 15.1122),
    375: (28.0354, 15.0177),
    380: (25.88, 15.0576),
    385: (23.8782, 14.9156),
    390: (22.073, 15.1048),
    395: (20.4283, 15.1019),
    400: (18.8721, 15.0928),
    405: (17.4227, 15.0661),
    410: (16.1707, 14.9522),
    415: (14.9804, 15.1417),
    420: (13.8804, 15.3588),
    425: (12.8817, 14.8223),
    430: (11.9789, 15.015),
    435: (11.0855, 15.2702),
    440: (10.3321, 14.9422),
    445: (9.59091, 14.9413),
    450: (8.93257, 15.0053),
    455: (8.32507, 15.0735),
    460: (7.75814, 15.1709),
    465: (7.24166, 15.2336),
    470: (6.76031, 15.2982),
    475: (6.31553, 15.3793),
    480: (5.89981, 15.4448),
    485: (5.51473, 15.5158),
    490: (5.16376, 15.5803),
    495: (4.82913, 15.6821),
    500: (4.52485, 15.7449),
    505: (4.24081, 15.808),
    510: (3.96713, 15.892),
    515: (3.71672, 15.9768),
    520: (3.49333, 16.0268),
    525: (3.27008, 16.1175),
    530: (3.0669, 16.1858),
    535: (2.88611, 16.2489),
    540: (2.70371, 16.3596),
    545: (2.54097, 16.4316),
    550: (2.38869, 16.4895),
    555: (2.24732, 16.5305),
    560: (2.11612, 16.6508),
    565: (1.99418, 16.7097),
    570: (1.87218, 16.7973),
    575: (1.76075, 16.8606),
    580: (1.65934, 16.9328),
    585: (1.56783, 16.993),
    590: (1.47661, 17.1088),
    595: (1.39575, 17.1259),
    600: (1.31429, 17.2269),
    605: (1.24324, 17.3003),
    610: (1.17213, 17.3466),
    615: (1.10066, 17.4716),
    620: (1.04006, 17.5739),
    625: (0.985407, 17.5919),
    630: (0.931497, 17.6817),
    635: (0.880476, 17.7587),
    640: (0.832847, 17.7948),
    645: (0.786926, 17.8762),
    650: (0.744472, 18.0043),
    655: (0.704916, 18.0369),
    660: (0.667058, 18.1326),
    665: (0.631306, 18.2113),
    670: (0.597843, 18.2496),
    675: (0.56624, 18.3422),
    680: (0.536593, 18.4245),
    685: (0.50942, 18.4902),
    690: (0.482843, 18.5676),
    695: (0.457432, 18.6079),
    700: (0.433971, 18.6986),
    705: (0.411416, 18.7936),
    710: (0.390086, 18.829),
    715: (0.370645, 18.9111),
    720: (0.352514, 18.9679),
    725: (0.33408, 19.0508),
    730: (0.317737, 19.1467),
    735: (0.301462, 19.1863),
    740: (0.286089, 19.2731),
    745: (0.271852, 19.2968),
    750: (0.258598, 19.4346),
    755: (0.24633, 19.5161),
    760: (0.234109, 19.5609),
    765: (0.222826, 19.6315),
    770: (0.211617, 19.6785),
    775: (0.201354, 19.7494),
    780: (0.191111, 19.8564),
    785: (0.18202, 19.9151),
    790: (0.173801, 19.987),
    795: (0.165647, 20.0114),
    800: (0.157399, 20.1277),
    805: (0.150172, 20.2259),
    810: (0.142838, 20.4439),
    815: (0.135881, 20.3414),
    820: (0.129292, 20.8895),
    825: (0.123451, 20.6589),
    830: (0.117155, 20.8985),
    835: (0.11198, 21.0456),
    840: (0.106724, 21.2607),
    845: (0.101468, 21.2567),
    850: (0.0966803, 21.2994),
    855: (0.0922606, 21.4722),
    860: (0.0878851, 21.6719),
    865: (0.0837802, 21.7595),
    870: (0.0799422, 21.9007),
    875: (0.0762312, 22.019),
    880: (0.072704, 22.1713),
    885: (0.0693676, 22.2927),
    890: (0.0661977, 22.3601),
    895: (0.0631751, 22.5385),
    900: (0.060276, 22.6836),
    905: (0.0575238, 22.7399),
    910: (0.054922, 22.916),
    915: (0.052471, 23.1002),
    920: (0.0500914, 23.2393),
    925: (0.0478794, 23.4801),
    930: (0.0457437, 23.5378),
    935: (0.0436802, 23.6783),
    940: (0.0417248, 23.8237),
    945: (0.0398759, 24.0298),
    950: (0.0381246, 24.1578),
    955: (0.0364316, 24.4395),
    960: (0.0348221, 24.4519),
    965: (0.033282, 24.5795),
    970: (0.0318672, 24.7222),
    975: (0.0304177, 24.9003),
    980: (0.0290889, 24.9951),
    985: (0.0278154, 25.3006),
    990: (0.0265993, 25.4447),
    995: (0.0254762, 25.5674),
    1000: (0.0243547, 25.6713),
    1005: (0.0233412, 25.729),
    1010: (0.0222816, 26.1486),
    1015: (0.0213092, 25.9706),
    1020: (0.0204008, 26.0441),
    1025: (0.0195439, 26.3787),
    1030: (0.0186399, 26.4928),
    1035: (0.0178964, 26.7975),
    1040: (0.0170845, 26.896),
    1045: (0.0163849, 26.9164),
    1050: (0.0156931, 26.929),
    1055: (0.0149871, 26.9811),
    1060: (0.0143428, 27.3367),
    1065: (0.0137535, 27.3472),
    1070: (0.0131578, 27.3129),
    1075: (0.0126249, 27.6365),
    1080: (0.0120916, 28.0459),
    1085: (0.0115882, 28.1145),
    1090: (0.0110906, 28.085),
    1095: (0.0105972, 28.1071),
    1100: (0.0101744, 28.3906),
    1105: (0.00975322, 28.5344),
    1110: (0.00934364, 28.7555),
    1115: (0.00895424, 28.8933),
    1120: (0.00858597, 29.0192),
    1125: (0.00823026, 29.2287),
    1130: (0.00788948, 29.4086),
    1135: (0.00756671, 29.5561),
    1140: (0.00724917, 29.6991),
    1145: (0.00695169, 29.8705),
    1150: (0.00666673, 30.0712),
    1155: (0.00639182, 30.1806),
    1160: (0.00613149, 30.4126),
    1165: (0.00588262, 30.4988),
    1170: (0.0056425, 30.7713),
    1175: (0.0054104, 30.9359),
    1180: (0.00519563, 31.0761),
    1185: (0.00498468, 31.2172),
    1190: (0.00477732, 31.4369),
    1195: (0.00458673, 31.5987),
    1200: (0.00440078, 31.7987),
    1205: (0.00422593, 31.9773),
    1210: (0.0040514, 32.2519),
    1215: (0.00389138, 32.2853),
    1220: (0.00372785, 32.562),
    1225: (0.00357858, 32.5751),
    1230: (0.00343744, 32.7486),
    1235: (0.00330131, 33.1174),
    1240: (0.0031691, 33.2696),
    1245: (0.00303793, 33.4577),
    1250: (0.00291565, 33.6088),
    1255: (0.00280625, 33.7125),
    1260: (0.00269022, 34.0592),
    1265: (0.00258061, 34.2096),
    1270: (0.00248068, 34.2609),
    1275: (0.00238091, 34.3786),
    1280: (0.00228827, 34.6776),
    1285: (0.00219864, 34.7331),
    1290: (0.00210573, 35.0623),
    1295: (0.00202657, 35.0509),
    1300: (0.00194443, 35.3454),
    1305: (0.00186692, 35.3372),
    1310: (0.00179418, 35.5952),
    1315: (0.00172271, 35.8598),
    1320: (0.00165064, 36.181),
    1325: (0.00158945, 36.3322),
    1330: (0.00152847, 36.6043),
    1335: (0.0014675, 36.838),
    1340: (0.0014106, 36.6295),
    1345: (0.0013492, 36.9211),
    1350: (0.00129951, 37.0468),
    1355: (0.00124801, 37.2732),
    1360: (0.0011984, 37.3879),
    1365: (0.00114871, 37.5039),
    1370: (0.00110711, 37.7908),
    1375: (0.00106538, 38.1495),
    1380: (0.00102485, 38.3903),
    1385: (0.00098222, 38.3992),
    1390: (0.000943754, 38.5307),
    1395: (0.000906445, 38.7225),
    1400: (0.000871201, 38.9186),
    1405: (0.00083687, 39.1534),
    1410: (0.000804842, 39.3134),
    1415: (0.000773344, 39.4673),
    1420: (0.000743009, 39.6856),
    1425: (0.000714083, 39.8536),
    1430: (0.000686632, 40.1044),
    1435: (0.000659782, 40.2328),
    1440: (0.000634212, 40.4424),
    1445: (0.000609136, 40.6256),
    1450: (0.00058599, 40.8174),
    1455: (0.00056309, 40.9579),
    1460: (0.000541725, 41.2293),
    1465: (0.000520546, 41.4388),
    1470: (0.000500264, 41.587),
    1475: (0.000481062, 41.8322),
    1480: (0.000462071, 41.9992),
    1485: (0.000443875, 42.2248),
    1490: (0.000426659, 42.4615),
    1495: (0.000410737, 42.6225),
    1500: (0.000394612, 42.8374),
    1505: (0.000379584, 43.0121),
    1510: (0.000364688, 43.163),
    1515: (0.000350346, 43.4704),
    1520: (0.000337197, 43.6989),
    1525: (0.000323984, 43.9886),
    1530: (0.000311214, 44.0585),
    1535: (0.000299031, 44.3182),
    1540: (0.000287604, 44.7194),
    1545: (0.00027663, 44.8875),
    1550: (0.000265533, 45.1206),
    1555: (0.000255837, 45.2454),
    1560: (0.000245873, 45.3983),
    1565: (0.000236606, 45.7461),
    1570: (0.000227404, 46.0533),
    1575: (0.000218539, 46.1454),
    1580: (0.000209696, 46.2467),
    1585: (0.00020156, 46.5183),
    1590: (0.000194171, 47.0692),
    1595: (0.000186477, 47.0494),
    1600: (0.000179423, 47.269),
    1605: (0.000172361, 47.4992),
    1610: (0.000165332, 47.74),
    1615: (0.000159471, 47.8837),
    1620: (0.000153392, 48.1321),
    1625: (0.000147446, 48.273),
    1630: (0.000141507, 48.3977),
    1635: (0.000136462, 48.7077),
    1640: (0.000131372, 49.0001),
    1645: (0.000126312, 49.2408),
    1650: (0.000121361, 49.3527),
    1655: (0.000116488, 49.4938),
    1660: (0.000112313, 49.8886),
    1665: (0.000107505, 49.8101),
    1670: (0.000103502, 50.0869),
    1675: (9.95545e-05, 50.3339),
    1680: (9.56648e-05, 50.4918),
    1685: (9.19785e-05, 50.734),
    1690: (8.84717e-05, 50.9087),
    1695: (8.5105e-05, 51.1242),
    1700: (8.17761e-05, 51.3378),
    1705: (7.86327e-05, 51.5767),
    1710: (7.55929e-05, 51.7333),
    1715: (7.26295e-05, 52.0188),
    1720: (6.98621e-05, 52.2189),
    1725: (6.71419e-05, 52.4157),
    1730: (6.4556e-05, 52.6517),
    1735: (6.20851e-05, 52.8214),
    1740: (5.97211e-05, 53.1281),
    1745: (5.74255e-05, 53.3812),
    1750: (5.51497e-05, 53.4636),
    1755: (5.30377e-05, 53.7555),
    1760: (5.10074e-05, 53.9836),
    1765: (4.90166e-05, 54.2153),
    1770: (4.71201e-05, 54.4355),
    1775: (4.52786e-05, 54.7372),
    1780: (4.35033e-05, 54.8848),
    1785: (4.18723e-05, 55.2468),
    1790: (4.01971e-05, 55.3865),
    1795: (3.86643e-05, 55.6656),
    1800: (3.71771e-05, 55.8389),
    1805: (3.57622e-05, 56.127),
    1810: (3.43583e-05, 56.386),
    1815: (3.29627e-05, 56.4997),
    1820: (3.1738e-05, 56.8528),
    1825: (3.04796e-05, 56.8583),
    1830: (2.93288e-05, 57.3577),
    1835: (2.81348e-05, 57.5468),
    1840: (2.70614e-05, 57.6241),
    1845: (2.60099e-05, 58.0405),
    1850: (2.50085e-05, 58.2816),
    1855: (2.40021e-05, 58.5301),
    1860: (2.31231e-05, 58.6138),
    1865: (2.21893e-05, 59.0514),
    1870: (2.12977e-05, 59.2072),
    1875: (2.04823e-05, 59.5237),
    1880: (1.97133e-05, 59.4866),
    1885: (1.89005e-05, 59.7809),
    1890: (1.81887e-05, 60.0879),
    1895: (1.74813e-05, 60.3347),
    1900: (1.67835e-05, 60.518),
    1905: (1.60881e-05, 60.667),
    1910: (1.54787e-05, 60.9301),
    1915: (1.4876e-05, 61.1518),
    1920: (1.42691e-05, 61.3804),
    1925: (1.37589e-05, 61.6823),
    1930: (1.32437e-05, 62.0392),
    1935: (1.2654e-05, 62.0765),
    1940: (1.21604e-05, 62.2383),
    1945: (1.17397e-05, 62.6928),
    1950: (1.12426e-05, 62.789),
    1955: (1.08304e-05, 63.1447),
    1960: (1.04217e-05, 63.4321),
    1965: (9.97664e-06, 63.4885),
    1970: (9.58718e-06, 63.7209),
    1975: (9.20837e-06, 64.0165),
    1980: (8.84663e-06, 64.1813),
    1985: (8.49858e-06, 64.4633),
    1990: (8.15342e-06, 64.6832),
    1995: (7.84163e-06, 64.9299),
    2000: (7.52864e-06, 65.128)
}

outputFile = open('T5wg_suppl.xsecs', 'w')

for mglu in range(400, 1550, 50):
    xsec, uncert = xsecs[mglu]

    if mglu < 600:
        dirname = '/store/RA3Ntuples/SusyNtuples/cms538v1p2/Summer12_FS53/SMS-T5wg_2J_mGl-400to550_mLSP-25to525_TuneZ2star_8TeV-madgraph-tauola/START53_V19_FSIM_PU_S12-v1-sorted'
    elif mglu < 800:
        dirname = '/store/RA3Ntuples/SusyNtuples/cms538v1p2/Summer12_FS53/SMS-T5wg_2J_mGl-600to750_mLSP-25to725_TuneZ2star_8TeV-madgraph-tauola/START53_V19_FSIM_PU_S12-v1-sorted'
    elif mglu < 1000:
        continue
    elif mglu < 1200:
        continue
        dirname = '/store/RA3Ntuples/SusyNtuples/cms538v1p2/Summer12_FS53/SMS-T5wg_2J_mGl-1000to1150_mLSP-25to1125_TuneZ2star_8TeV-madgraph-tauola/START53_V19_FSIM_PU_S12-v1-sorted'
    elif mglu < 1350:
        continue
        dirname = '/store/RA3Ntuples/SusyNtuples/cms538v1p2/Summer12_FS53/SMS-T5wg_2J_mGl-1200to1300_mLSP-25to1275_TuneZ2star_8TeV-madgraph-tauola/START53_V19_FSIM_PU_S12-v1-sorted'
    else:
        continue
    
    for mchi in range(25, mglu, 50):
        point = 'T5wg_' + str(mglu) + '_' + str(mchi)
        tree = ROOT.TChain('triggerEventTree')
        tree.Add(dirname + '/susyTriggers_' + point + '_*.root')

        nEntries = tree.GetEntries()

        outputFile.write(point)
        outputFile.write(' %.5e' % (xsec * 0.5))
        outputFile.write(' %.2f' % (uncert / 100.))
        outputFile.write(' ' + str(nEntries))
        outputFile.write('\n')

outputFile.close()
